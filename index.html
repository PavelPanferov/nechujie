<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Не чужие - Игра для пар</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

        :root {
            --primary-gradient: linear-gradient(135deg, #ff6b9d 0%, #c44569 50%, #6c5ce7 100%);
            --secondary-gradient: linear-gradient(135deg, #a8e6cf 0%, #3d9970 50%, #2c3e50 100%);
            --background: linear-gradient(135deg, #667eea 0%, #764ba2 40%, #e056fd 100%);
            --card-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            --text-primary: #2d3748;
            --text-secondary: #718096;
            --white: #ffffff;
            --radius-lg: 24px;
            --radius-md: 16px;
            --radius-sm: 12px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: var(--background);
            background-attachment: fixed;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            touch-action: manipulation;
            font-feature-settings: 'kern' 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            -webkit-tap-highlight-color: transparent;
        }

        .container {
            width: 100%;
            max-width: 420px;
            position: relative;
        }

        .start-screen, .game-screen {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-lg);
            padding: 40px 30px;
            box-shadow: var(--card-shadow);
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .start-screen::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary-gradient);
        }

        h1 {
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 2.5em;
            margin-bottom: 8px;
            font-weight: 700;
            letter-spacing: -0.02em;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.1em;
            margin-bottom: 30px;
            font-weight: 500;
        }

        .heart-icon {
            font-size: 3em;
            margin: 20px 0;
            animation: heartbeat 2s ease-in-out infinite;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        @keyframes heartbeat {
            0%, 50%, 100% { transform: scale(1); }
            25% { transform: scale(1.1); }
        }

        .level-buttons {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin: 30px 0;
        }

        button {
            -webkit-appearance: none;
            appearance: none;
            border: none;
            cursor: pointer;
            font-family: inherit;
            transition: var(--transition);
            -webkit-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
        }

        .level-btn {
            background: var(--primary-gradient);
            color: var(--white);
            border: none;
            padding: 24px 20px;
            border-radius: var(--radius-md);
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            text-transform: none;
            letter-spacing: 0.02em;
            touch-action: manipulation;
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(255, 107, 157, 0.3);
            -webkit-tap-highlight-color: rgba(255, 255, 255, 0.1);
            outline: none;
        }

        .level-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s;
        }

        .level-btn:hover::before {
            left: 100%;
        }

        .level-btn:active {
            transform: translateY(2px);
            box-shadow: 0 4px 15px rgba(255, 107, 157, 0.4);
        }

        .level-number {
            display: block;
            font-size: 0.9em;
            opacity: 0.9;
            margin-top: 6px;
            font-weight: 400;
            line-height: 1.3;
        }

        .card {
            background: var(--white);
            border-radius: var(--radius-lg);
            padding: 40px 30px;
            min-height: 320px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: var(--card-shadow);
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .card-level {
            position: absolute;
            top: 16px;
            left: 20px;
            background: var(--primary-gradient);
            color: var(--white);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(255, 107, 157, 0.2);
        }

        .card-number {
            position: absolute;
            top: 20px;
            right: 20px;
            color: var(--text-secondary);
            font-size: 0.9em;
            font-weight: 500;
        }

        .question {
            color: var(--text-primary);
            font-size: 1.3em;
            line-height: 1.5;
            font-weight: 500;
            margin: 20px 0;
            text-align: center;
            letter-spacing: -0.01em;
        }

        .task {
            background: var(--secondary-gradient);
            color: var(--white);
            padding: 30px 25px;
            border-radius: var(--radius-md);
            font-size: 1.2em;
            font-weight: 600;
            margin: 20px 0;
            text-align: center;
            box-shadow: 0 8px 25px rgba(61, 153, 112, 0.3);
        }

        .task-icon {
            font-size: 2.5em;
            margin-bottom: 15px;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
        }

        .navigation {
            display: flex;
            gap: 16px;
            margin-top: 30px;
            justify-content: center;
        }

        .nav-btn {
            background: var(--white);
            border: 2px solid transparent;
            background-clip: padding-box;
            color: var(--text-primary);
            padding: 14px 28px;
            border-radius: 30px;
            font-size: 0.95em;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            touch-action: manipulation;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            position: relative;
            -webkit-tap-highlight-color: rgba(102, 126, 234, 0.1);
            outline: none;
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            inset: 0;
            padding: 2px;
            background: var(--primary-gradient);
            border-radius: inherit;
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask-composite: exclude;
            -webkit-mask-composite: xor;
        }

        .nav-btn:active {
            transform: translateY(1px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }

        .nav-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none;
        }

        .next-btn {
            background: var(--primary-gradient);
            color: var(--white);
            border: none;
            box-shadow: 0 8px 25px rgba(255, 107, 157, 0.3);
        }

        .next-btn::before {
            display: none;
        }

        .progress {
            margin-top: 25px;
            background: rgba(255, 255, 255, 0.3);
            height: 8px;
            border-radius: 10px;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .progress-bar {
            height: 100%;
            background: var(--primary-gradient);
            border-radius: 10px;
            transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 10px rgba(255, 107, 157, 0.5);
        }

        .hidden {
            display: none !important;
        }

        .special-btn {
            background: var(--secondary-gradient);
            margin-top: 12px;
            box-shadow: 0 8px 25px rgba(61, 153, 112, 0.3);
        }

        .menu-btn {
            margin: 25px auto 0;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
        }

        /* Floating particles animation */
        .start-screen::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image:
                radial-gradient(circle at 20% 80%, rgba(255, 107, 157, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(108, 92, 231, 0.1) 0%, transparent 50%);
            pointer-events: none;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 10px;
                max-width: 100%;
            }

            .start-screen, .game-screen {
                padding: 30px 20px;
            }

            h1 {
                font-size: 2.2em;
            }

            .question {
                font-size: 1.2em;
            }

            .card {
                padding: 30px 20px;
                min-height: 280px;
            }

            .level-btn {
                padding: 20px 16px;
                font-size: 0.95em;
            }

            .navigation {
                gap: 12px;
            }

            .nav-btn {
                padding: 12px 20px;
                font-size: 0.9em;
            }
        }

        @media (hover: hover) {
            .level-btn:hover, .next-btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 12px 35px rgba(255, 107, 157, 0.4);
            }

            .nav-btn:hover {
                transform: translateY(-1px);
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="start-screen" id="startScreen">
            <div class="heart-icon">💕</div>
            <h1>Не чужие</h1>
            <p class="subtitle">Игра на сближение для пар</p>
            
            <div class="level-buttons">
                <button class="level-btn" onclick="startGame(1)" type="button">
                    Уровень 1: Восприятие
                    <span class="level-number">Узнайте первые впечатления</span>
                </button>
                <button class="level-btn" onclick="startGame(2)" type="button">
                    Уровень 2: Связь
                    <span class="level-number">Создайте эмоциональную близость</span>
                </button>
                <button class="level-btn" onclick="startGame(3)" type="button">
                    Уровень 3: Размышления
                    <span class="level-number">Откройте глубинные чувства</span>
                </button>
                <button class="level-btn special-btn" onclick="startGame('tasks')" type="button">
                    Специальные задания
                    <span class="level-number">Творческие активности для двоих</span>
                </button>
            </div>
        </div>

        <div class="game-screen hidden" id="gameScreen">
            <div class="card" id="card">
                <span class="card-level" id="levelLabel"></span>
                <span class="card-number" id="cardNumber"></span>
                <div id="cardContent"></div>
            </div>
            
            <div class="navigation">
                <button class="nav-btn" id="prevBtn" onclick="previousCard()" type="button">
                    ← Назад
                </button>
                <button class="nav-btn next-btn" onclick="nextCard()" type="button">
                    Далее →
                </button>
            </div>
            
            <div class="progress">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            
            <button class="nav-btn menu-btn" onclick="backToMenu()" type="button">
                В меню
            </button>
        </div>
    </div>

    <script>
        const questions = {
            1: [
                "Как ты думаешь, какая у меня была специальность в университете?",
                "Как ты думаешь, я когда-нибудь был(а) безответно влюблен(а)?",
                "Как ты думаешь, мне когда-нибудь разбивали сердце?",
                "Как ты думаешь, я был(а) популярен(на) в школе?",
                "Как ты думаешь, мне больше нравится быть дома или гулять?",
                "Как ты думаешь, я экстраверт или интроверт?",
                "Какое, по-твоему, мое любимое блюдо?",
                "Какой, по-твоему, мой любимый напиток?",
                "Как ты думаешь, я люблю читать книги?",
                "Как ты думаешь, я играю в видеоигры?",
                "Какой, по-твоему, мой любимый цвет?",
                "Как ты думаешь, я жаворонок или сова?",
                "Какую музыку я слушаю чаще всего?",
                "Как ты думаешь, я люблю путешествовать?",
                "Какое мое любимое время года?"
            ],
            2: [
                "Каким было твое первое впечатление обо мне?",
                "О чем ты солгал(а) мне в последний раз?",
                "Что ты скрывал(а) от меня долгое время?",
                "Какие самые странные мысли приходят тебе в голову?",
                "Какую самую большую ошибку ты совершил(а) в жизни?",
                "Что ты все еще пытаешься доказать себе?",
                "Что самое сложное в отношениях со мной?",
                "Какое твое самое теплое воспоминание из детства?",
                "Что нужно сделать, чтобы завоевать твое доверие?",
                "Какой главный вопрос волнует тебя сейчас?",
                "Что сделало бы тебя еще ближе ко мне?",
                "Чего ты боишься в наших отношениях?",
                "Какой момент стал переломным для нас?",
                "Что бы ты изменил(а) в нашем общении?",
                "Какая моя привычка тебя раздражает?"
            ],
            3: [
                "Что ты хочешь изменить в себе прямо сейчас?",
                "Перед кем ты хочешь извиниться?",
                "Что во мне тебя больше всего удивило?",
                "Какая у меня суперсила в отношениях?",
                "Что мне стоит прочитать или посмотреть?",
                "Что ты узнал(а) о себе благодаря нашим отношениям?",
                "Какой вопрос был самым сложным для тебя?",
                "Что было бы идеальным подарком для меня?",
                "Что мне нужно услышать прямо сейчас?",
                "Почему мы встретились именно сейчас?",
                "Что мы можем создать вместе?",
                "Что во мне самое привлекательное помимо внешности?",
                "Как выглядит наша жизнь через 10 лет?",
                "Есть ли что-то непростительное для тебя?",
                "Чему научили тебя наши отношения?"
            ],
            tasks: [
                {type: "task", content: "Нарисуйте портреты друг друга", time: "2 минуты", icon: "🎨"},
                {type: "task", content: "Создайте историю по очереди", time: "3 минуты", icon: "📖"},
                {type: "task", content: "Напишите любовные записки", time: "5 минут", icon: "✉️"},
                {type: "task", content: "Сделайте романтичное фото", icon: "📸"},
                {type: "task", content: "Смотрите в глаза молча", time: "1 минута", icon: "👁️"},
                {type: "task", content: "Спойте любимые песни", icon: "🎤"},
                {type: "task", content: "Обнимитесь крепко-крепко", time: "30 секунд", icon: "🤗"},
                {type: "task", content: "Потанцуйте вместе", time: "1 песня", icon: "💃"},
                {type: "task", content: "Покажите детские фото", icon: "👶"},
                {type: "task", content: "Сделайте массаж плеч", time: "2 минуты каждому", icon: "💆"}
            ]
        };

        let currentLevel = 1;
        let currentCardIndex = 0;
        let currentQuestions = [];

        function startGame(level) {
            currentLevel = level;
            currentCardIndex = 0;
            currentQuestions = [...questions[level]];
            
            // Перемешиваем
            for (let i = currentQuestions.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [currentQuestions[i], currentQuestions[j]] = [currentQuestions[j], currentQuestions[i]];
            }
            
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            
            const levelNames = {
                1: "Уровень 1",
                2: "Уровень 2", 
                3: "Уровень 3",
                'tasks': "Задания"
            };
            
            document.getElementById('levelLabel').textContent = levelNames[level];
            
            showCard();
        }

        function showCard() {
            const content = document.getElementById('cardContent');
            const current = currentQuestions[currentCardIndex];
            
            if (currentLevel === 'tasks') {
                const task = current;
                content.innerHTML = `
                    <div class="task">
                        <div class="task-icon">${task.icon}</div>
                        <div>${task.content}</div>
                        ${task.time ? `<div style="margin-top: 10px; font-size: 0.85em; opacity: 0.9;">⏱️ ${task.time}</div>` : ''}
                    </div>
                `;
            } else {
                content.innerHTML = `<div class="question">${current}</div>`;
            }
            
            document.getElementById('cardNumber').textContent = `${currentCardIndex + 1}/${currentQuestions.length}`;
            
            const progress = ((currentCardIndex + 1) / currentQuestions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            document.getElementById('prevBtn').disabled = currentCardIndex === 0;
        }

        function nextCard() {
            if (currentCardIndex < currentQuestions.length - 1) {
                currentCardIndex++;
                showCard();
            } else {
                if (confirm('Вы прошли все карточки! Вернуться в меню?')) {
                    backToMenu();
                }
            }
        }

        function previousCard() {
            if (currentCardIndex > 0) {
                currentCardIndex--;
                showCard();
            }
        }

        function backToMenu() {
            document.getElementById('startScreen').classList.remove('hidden');
            document.getElementById('gameScreen').classList.add('hidden');
        }

        // Предотвращаем двойной клик и масштабирование
        document.addEventListener('gesturestart', function(e) {
            e.preventDefault();
        });

        document.addEventListener('dblclick', function(e) {
            e.preventDefault();
        });

        // Улучшаем работу с touch событиями
        document.addEventListener('touchstart', function() {}, { passive: true });

        // Добавляем обработчики для лучшей работы кнопок на мобильных
        document.querySelectorAll('button').forEach(button => {
            button.addEventListener('touchstart', function() {
                this.style.transform = 'scale(0.98)';
            }, { passive: true });

            button.addEventListener('touchend', function() {
                this.style.transform = '';
            }, { passive: true });
        });
    </script>
</body>
</html>
