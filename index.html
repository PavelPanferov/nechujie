<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ù–µ —á—É–∂–∏–µ - –ò–≥—Ä–∞ –¥–ª—è –ø–∞—Ä</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

        :root {
            --primary-gradient: linear-gradient(135deg, #ff6b9d 0%, #c44569 50%, #6c5ce7 100%);
            --secondary-gradient: linear-gradient(135deg, #a8e6cf 0%, #3d9970 50%, #2c3e50 100%);
            --background: linear-gradient(135deg, #667eea 0%, #764ba2 40%, #e056fd 100%);
            --card-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            --text-primary: #2d3748;
            --text-secondary: #718096;
            --white: #ffffff;
            --radius-lg: 24px;
            --radius-md: 16px;
            --radius-sm: 12px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: var(--background);
            background-attachment: fixed;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            touch-action: manipulation;
            font-feature-settings: 'kern' 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            -webkit-tap-highlight-color: transparent;
        }

        .container {
            width: 100%;
            max-width: 420px;
            position: relative;
        }

        .start-screen, .game-screen {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-lg);
            padding: 40px 30px;
            box-shadow: var(--card-shadow);
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .start-screen::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary-gradient);
        }

        h1 {
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 2.5em;
            margin-bottom: 8px;
            font-weight: 700;
            letter-spacing: -0.02em;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.1em;
            margin-bottom: 30px;
            font-weight: 500;
        }

        .heart-icon {
            font-size: 3em;
            margin: 20px 0;
            animation: heartbeat 2s ease-in-out infinite;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        @keyframes heartbeat {
            0%, 50%, 100% { transform: scale(1); }
            25% { transform: scale(1.1); }
        }

        .level-buttons {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin: 30px 0;
        }

        button {
            -webkit-appearance: none;
            appearance: none;
            border: none;
            cursor: pointer;
            font-family: inherit;
            transition: var(--transition);
            -webkit-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
        }

        .level-btn {
            background: var(--primary-gradient);
            color: var(--white);
            border: none;
            padding: 24px 20px;
            border-radius: var(--radius-md);
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            text-transform: none;
            letter-spacing: 0.02em;
            touch-action: manipulation;
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(255, 107, 157, 0.3);
            -webkit-tap-highlight-color: rgba(255, 255, 255, 0.1);
            outline: none;
        }

        .level-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s;
        }

        .level-btn:hover::before {
            left: 100%;
        }

        .level-btn:active {
            transform: translateY(2px);
            box-shadow: 0 4px 15px rgba(255, 107, 157, 0.4);
        }

        .level-number {
            display: block;
            font-size: 0.9em;
            opacity: 0.9;
            margin-top: 6px;
            font-weight: 400;
            line-height: 1.3;
        }

        .card {
            background: var(--white);
            border-radius: var(--radius-lg);
            padding: 40px 30px;
            min-height: 320px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: var(--card-shadow);
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .card-level {
            position: absolute;
            top: 16px;
            left: 20px;
            background: var(--primary-gradient);
            color: var(--white);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(255, 107, 157, 0.2);
        }

        .card-number {
            position: absolute;
            top: 20px;
            right: 20px;
            color: var(--text-secondary);
            font-size: 0.9em;
            font-weight: 500;
        }

        .question {
            color: var(--text-primary);
            font-size: 1.3em;
            line-height: 1.5;
            font-weight: 500;
            margin: 20px 0;
            text-align: center;
            letter-spacing: -0.01em;
        }

        .task {
            background: var(--secondary-gradient);
            color: var(--white);
            padding: 30px 25px;
            border-radius: var(--radius-md);
            font-size: 1.2em;
            font-weight: 600;
            margin: 20px 0;
            text-align: center;
            box-shadow: 0 8px 25px rgba(61, 153, 112, 0.3);
        }

        .task-icon {
            font-size: 2.5em;
            margin-bottom: 15px;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
        }

        .navigation {
            display: flex;
            gap: 16px;
            margin-top: 30px;
            justify-content: center;
        }

        .nav-btn {
            background: var(--white);
            border: 2px solid transparent;
            background-clip: padding-box;
            color: var(--text-primary);
            padding: 14px 28px;
            border-radius: 30px;
            font-size: 0.95em;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            touch-action: manipulation;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            position: relative;
            -webkit-tap-highlight-color: rgba(102, 126, 234, 0.1);
            outline: none;
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            inset: 0;
            padding: 2px;
            background: var(--primary-gradient);
            border-radius: inherit;
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask-composite: exclude;
            -webkit-mask-composite: xor;
        }

        .nav-btn:active {
            transform: translateY(1px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }

        .nav-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none;
        }

        .next-btn {
            background: var(--primary-gradient);
            color: var(--white);
            border: none;
            box-shadow: 0 8px 25px rgba(255, 107, 157, 0.3);
        }

        .next-btn::before {
            display: none;
        }

        .progress {
            margin-top: 25px;
            background: rgba(255, 255, 255, 0.3);
            height: 8px;
            border-radius: 10px;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .progress-bar {
            height: 100%;
            background: var(--primary-gradient);
            border-radius: 10px;
            transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 10px rgba(255, 107, 157, 0.5);
        }

        .hidden {
            display: none !important;
        }

        .special-btn {
            background: var(--secondary-gradient);
            margin-top: 12px;
            box-shadow: 0 8px 25px rgba(61, 153, 112, 0.3);
        }

        .menu-btn {
            margin: 25px auto 0;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
        }

        /* Floating particles animation */
        .start-screen::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image:
                radial-gradient(circle at 20% 80%, rgba(255, 107, 157, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(108, 92, 231, 0.1) 0%, transparent 50%);
            pointer-events: none;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 10px;
                max-width: 100%;
            }

            .start-screen, .game-screen {
                padding: 30px 20px;
            }

            h1 {
                font-size: 2.2em;
            }

            .question {
                font-size: 1.2em;
            }

            .card {
                padding: 30px 20px;
                min-height: 280px;
            }

            .level-btn {
                padding: 20px 16px;
                font-size: 0.95em;
            }

            .navigation {
                gap: 12px;
            }

            .nav-btn {
                padding: 12px 20px;
                font-size: 0.9em;
            }
        }

        @media (hover: hover) {
            .level-btn:hover, .next-btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 12px 35px rgba(255, 107, 157, 0.4);
            }

            .nav-btn:hover {
                transform: translateY(-1px);
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="start-screen" id="startScreen">
            <div class="heart-icon">üíï</div>
            <h1>–ù–µ —á—É–∂–∏–µ</h1>
            <p class="subtitle">–ò–≥—Ä–∞ –Ω–∞ —Å–±–ª–∏–∂–µ–Ω–∏–µ –¥–ª—è –ø–∞—Ä</p>
            
            <div class="level-buttons">
                <button class="level-btn" onclick="startGame(1)" type="button">
                    –£—Ä–æ–≤–µ–Ω—å 1: –í–æ—Å–ø—Ä–∏—è—Ç–∏–µ
                    <span class="level-number">–£–∑–Ω–∞–π—Ç–µ –ø–µ—Ä–≤—ã–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è</span>
                </button>
                <button class="level-btn" onclick="startGame(2)" type="button">
                    –£—Ä–æ–≤–µ–Ω—å 2: –°–≤—è–∑—å
                    <span class="level-number">–°–æ–∑–¥–∞–π—Ç–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –±–ª–∏–∑–æ—Å—Ç—å</span>
                </button>
                <button class="level-btn" onclick="startGame(3)" type="button">
                    –£—Ä–æ–≤–µ–Ω—å 3: –†–∞–∑–º—ã—à–ª–µ–Ω–∏—è
                    <span class="level-number">–û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª—É–±–∏–Ω–Ω—ã–µ —á—É–≤—Å—Ç–≤–∞</span>
                </button>
                <button class="level-btn special-btn" onclick="startGame('tasks')" type="button">
                    –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è
                    <span class="level-number">–¢–≤–æ—Ä—á–µ—Å–∫–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¥–ª—è –¥–≤–æ–∏—Ö</span>
                </button>
            </div>
        </div>

        <div class="game-screen hidden" id="gameScreen">
            <div class="card" id="card">
                <span class="card-level" id="levelLabel"></span>
                <span class="card-number" id="cardNumber"></span>
                <div id="cardContent"></div>
            </div>
            
            <div class="navigation">
                <button class="nav-btn" id="prevBtn" onclick="previousCard()" type="button">
                    ‚Üê –ù–∞–∑–∞–¥
                </button>
                <button class="nav-btn next-btn" onclick="nextCard()" type="button">
                    –î–∞–ª–µ–µ ‚Üí
                </button>
            </div>
            
            <div class="progress">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            
            <button class="nav-btn menu-btn" onclick="backToMenu()" type="button">
                –í –º–µ–Ω—é
            </button>
        </div>
    </div>

    <script>
        const questions = {
            1: [
                "–ö–∞–∫ —Ç—ã –¥—É–º–∞–µ—à—å, –∫–∞–∫–∞—è —É –º–µ–Ω—è –±—ã–ª–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–µ?",
                "–ö–∞–∫ —Ç—ã –¥—É–º–∞–µ—à—å, —è –∫–æ–≥–¥–∞-–Ω–∏–±—É–¥—å –±—ã–ª(–∞) –±–µ–∑–æ—Ç–≤–µ—Ç–Ω–æ –≤–ª—é–±–ª–µ–Ω(–∞)?",
                "–ö–∞–∫ —Ç—ã –¥—É–º–∞–µ—à—å, –º–Ω–µ –∫–æ–≥–¥–∞-–Ω–∏–±—É–¥—å —Ä–∞–∑–±–∏–≤–∞–ª–∏ —Å–µ—Ä–¥—Ü–µ?",
                "–ö–∞–∫ —Ç—ã –¥—É–º–∞–µ—à—å, —è –±—ã–ª(–∞) –ø–æ–ø—É–ª—è—Ä–µ–Ω(–Ω–∞) –≤ —à–∫–æ–ª–µ?",
                "–ö–∞–∫ —Ç—ã –¥—É–º–∞–µ—à—å, –º–Ω–µ –±–æ–ª—å—à–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –±—ã—Ç—å –¥–æ–º–∞ –∏–ª–∏ –≥—É–ª—è—Ç—å?",
                "–ö–∞–∫ —Ç—ã –¥—É–º–∞–µ—à—å, —è —ç–∫—Å—Ç—Ä–∞–≤–µ—Ä—Ç –∏–ª–∏ –∏–Ω—Ç—Ä–æ–≤–µ—Ä—Ç?",
                "–ö–∞–∫–æ–µ, –ø–æ-—Ç–≤–æ–µ–º—É, –º–æ–µ –ª—é–±–∏–º–æ–µ –±–ª—é–¥–æ?",
                "–ö–∞–∫–æ–π, –ø–æ-—Ç–≤–æ–µ–º—É, –º–æ–π –ª—é–±–∏–º—ã–π –Ω–∞–ø–∏—Ç–æ–∫?",
                "–ö–∞–∫ —Ç—ã –¥—É–º–∞–µ—à—å, —è –ª—é–±–ª—é —á–∏—Ç–∞—Ç—å –∫–Ω–∏–≥–∏?",
                "–ö–∞–∫ —Ç—ã –¥—É–º–∞–µ—à—å, —è –∏–≥—Ä–∞—é –≤ –≤–∏–¥–µ–æ–∏–≥—Ä—ã?",
                "–ö–∞–∫–æ–π, –ø–æ-—Ç–≤–æ–µ–º—É, –º–æ–π –ª—é–±–∏–º—ã–π —Ü–≤–µ—Ç?",
                "–ö–∞–∫ —Ç—ã –¥—É–º–∞–µ—à—å, —è –∂–∞–≤–æ—Ä–æ–Ω–æ–∫ –∏–ª–∏ —Å–æ–≤–∞?",
                "–ö–∞–∫—É—é –º—É–∑—ã–∫—É —è —Å–ª—É—à–∞—é —á–∞—â–µ –≤—Å–µ–≥–æ?",
                "–ö–∞–∫ —Ç—ã –¥—É–º–∞–µ—à—å, —è –ª—é–±–ª—é –ø—É—Ç–µ—à–µ—Å—Ç–≤–æ–≤–∞—Ç—å?",
                "–ö–∞–∫–æ–µ –º–æ–µ –ª—é–±–∏–º–æ–µ –≤—Ä–µ–º—è –≥–æ–¥–∞?"
            ],
            2: [
                "–ö–∞–∫–∏–º –±—ã–ª–æ —Ç–≤–æ–µ –ø–µ—Ä–≤–æ–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ –æ–±–æ –º–Ω–µ?",
                "–û —á–µ–º —Ç—ã —Å–æ–ª–≥–∞–ª(–∞) –º–Ω–µ –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑?",
                "–ß—Ç–æ —Ç—ã —Å–∫—Ä—ã–≤–∞–ª(–∞) –æ—Ç –º–µ–Ω—è –¥–æ–ª–≥–æ–µ –≤—Ä–µ–º—è?",
                "–ö–∞–∫–∏–µ —Å–∞–º—ã–µ —Å—Ç—Ä–∞–Ω–Ω—ã–µ –º—ã—Å–ª–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç —Ç–µ–±–µ –≤ –≥–æ–ª–æ–≤—É?",
                "–ö–∞–∫—É—é —Å–∞–º—É—é –±–æ–ª—å—à—É—é –æ—à–∏–±–∫—É —Ç—ã —Å–æ–≤–µ—Ä—à–∏–ª(–∞) –≤ –∂–∏–∑–Ω–∏?",
                "–ß—Ç–æ —Ç—ã –≤—Å–µ –µ—â–µ –ø—ã—Ç–∞–µ—à—å—Å—è –¥–æ–∫–∞–∑–∞—Ç—å —Å–µ–±–µ?",
                "–ß—Ç–æ —Å–∞–º–æ–µ —Å–ª–æ–∂–Ω–æ–µ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö —Å–æ –º–Ω–æ–π?",
                "–ö–∞–∫–æ–µ —Ç–≤–æ–µ —Å–∞–º–æ–µ —Ç–µ–ø–ª–æ–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∏–∑ –¥–µ—Ç—Å—Ç–≤–∞?",
                "–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, —á—Ç–æ–±—ã –∑–∞–≤–æ–µ–≤–∞—Ç—å —Ç–≤–æ–µ –¥–æ–≤–µ—Ä–∏–µ?",
                "–ö–∞–∫–æ–π –≥–ª–∞–≤–Ω—ã–π –≤–æ–ø—Ä–æ—Å –≤–æ–ª–Ω—É–µ—Ç —Ç–µ–±—è —Å–µ–π—á–∞—Å?",
                "–ß—Ç–æ —Å–¥–µ–ª–∞–ª–æ –±—ã —Ç–µ–±—è –µ—â–µ –±–ª–∏–∂–µ –∫–æ –º–Ω–µ?",
                "–ß–µ–≥–æ —Ç—ã –±–æ–∏—à—å—Å—è –≤ –Ω–∞—à–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö?",
                "–ö–∞–∫–æ–π –º–æ–º–µ–Ω—Ç —Å—Ç–∞–ª –ø–µ—Ä–µ–ª–æ–º–Ω—ã–º –¥–ª—è –Ω–∞—Å?",
                "–ß—Ç–æ –±—ã —Ç—ã –∏–∑–º–µ–Ω–∏–ª(–∞) –≤ –Ω–∞—à–µ–º –æ–±—â–µ–Ω–∏–∏?",
                "–ö–∞–∫–∞—è –º–æ—è –ø—Ä–∏–≤—ã—á–∫–∞ —Ç–µ–±—è —Ä–∞–∑–¥—Ä–∞–∂–∞–µ—Ç?"
            ],
            3: [
                "–ß—Ç–æ —Ç—ã —Ö–æ—á–µ—à—å –∏–∑–º–µ–Ω–∏—Ç—å –≤ —Å–µ–±–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å?",
                "–ü–µ—Ä–µ–¥ –∫–µ–º —Ç—ã —Ö–æ—á–µ—à—å –∏–∑–≤–∏–Ω–∏—Ç—å—Å—è?",
                "–ß—Ç–æ –≤–æ –º–Ω–µ —Ç–µ–±—è –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ —É–¥–∏–≤–∏–ª–æ?",
                "–ö–∞–∫–∞—è —É –º–µ–Ω—è —Å—É–ø–µ—Ä—Å–∏–ª–∞ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö?",
                "–ß—Ç–æ –º–Ω–µ —Å—Ç–æ–∏—Ç –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∏–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å?",
                "–ß—Ç–æ —Ç—ã —É–∑–Ω–∞–ª(–∞) –æ —Å–µ–±–µ –±–ª–∞–≥–æ–¥–∞—Ä—è –Ω–∞—à–∏–º –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º?",
                "–ö–∞–∫–æ–π –≤–æ–ø—Ä–æ—Å –±—ã–ª —Å–∞–º—ã–º —Å–ª–æ–∂–Ω—ã–º –¥–ª—è —Ç–µ–±—è?",
                "–ß—Ç–æ –±—ã–ª–æ –±—ã –∏–¥–µ–∞–ª—å–Ω—ã–º –ø–æ–¥–∞—Ä–∫–æ–º –¥–ª—è –º–µ–Ω—è?",
                "–ß—Ç–æ –º–Ω–µ –Ω—É–∂–Ω–æ —É—Å–ª—ã—à–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å?",
                "–ü–æ—á–µ–º—É –º—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å –∏–º–µ–Ω–Ω–æ —Å–µ–π—á–∞—Å?",
                "–ß—Ç–æ –º—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞—Ç—å –≤–º–µ—Å—Ç–µ?",
                "–ß—Ç–æ –≤–æ –º–Ω–µ —Å–∞–º–æ–µ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–º–∏–º–æ –≤–Ω–µ—à–Ω–æ—Å—Ç–∏?",
                "–ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –Ω–∞—à–∞ –∂–∏–∑–Ω—å —á–µ—Ä–µ–∑ 10 –ª–µ—Ç?",
                "–ï—Å—Ç—å –ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ–ø—Ä–æ—Å—Ç–∏—Ç–µ–ª—å–Ω–æ–µ –¥–ª—è —Ç–µ–±—è?",
                "–ß–µ–º—É –Ω–∞—É—á–∏–ª–∏ —Ç–µ–±—è –Ω–∞—à–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è?"
            ],
            tasks: [
                {type: "task", content: "–ù–∞—Ä–∏—Å—É–π—Ç–µ –ø–æ—Ä—Ç—Ä–µ—Ç—ã –¥—Ä—É–≥ –¥—Ä—É–≥–∞", time: "2 –º–∏–Ω—É—Ç—ã", icon: "üé®"},
                {type: "task", content: "–°–æ–∑–¥–∞–π—Ç–µ –∏—Å—Ç–æ—Ä–∏—é –ø–æ –æ—á–µ—Ä–µ–¥–∏", time: "3 –º–∏–Ω—É—Ç—ã", icon: "üìñ"},
                {type: "task", content: "–ù–∞–ø–∏—à–∏—Ç–µ –ª—é–±–æ–≤–Ω—ã–µ –∑–∞–ø–∏—Å–∫–∏", time: "5 –º–∏–Ω—É—Ç", icon: "‚úâÔ∏è"},
                {type: "task", content: "–°–¥–µ–ª–∞–π—Ç–µ —Ä–æ–º–∞–Ω—Ç–∏—á–Ω–æ–µ —Ñ–æ—Ç–æ", icon: "üì∏"},
                {type: "task", content: "–°–º–æ—Ç—Ä–∏—Ç–µ –≤ –≥–ª–∞–∑–∞ –º–æ–ª—á–∞", time: "1 –º–∏–Ω—É—Ç–∞", icon: "üëÅÔ∏è"},
                {type: "task", content: "–°–ø–æ–π—Ç–µ –ª—é–±–∏–º—ã–µ –ø–µ—Å–Ω–∏", icon: "üé§"},
                {type: "task", content: "–û–±–Ω–∏–º–∏—Ç–µ—Å—å –∫—Ä–µ–ø–∫–æ-–∫—Ä–µ–ø–∫–æ", time: "30 —Å–µ–∫—É–Ω–¥", icon: "ü§ó"},
                {type: "task", content: "–ü–æ—Ç–∞–Ω—Ü—É–π—Ç–µ –≤–º–µ—Å—Ç–µ", time: "1 –ø–µ—Å–Ω—è", icon: "üíÉ"},
                {type: "task", content: "–ü–æ–∫–∞–∂–∏—Ç–µ –¥–µ—Ç—Å–∫–∏–µ —Ñ–æ—Ç–æ", icon: "üë∂"},
                {type: "task", content: "–°–¥–µ–ª–∞–π—Ç–µ –º–∞—Å—Å–∞–∂ –ø–ª–µ—á", time: "2 –º–∏–Ω—É—Ç—ã –∫–∞–∂–¥–æ–º—É", icon: "üíÜ"}
            ]
        };

        let currentLevel = 1;
        let currentCardIndex = 0;
        let currentQuestions = [];

        function startGame(level) {
            currentLevel = level;
            currentCardIndex = 0;
            currentQuestions = [...questions[level]];
            
            // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º
            for (let i = currentQuestions.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [currentQuestions[i], currentQuestions[j]] = [currentQuestions[j], currentQuestions[i]];
            }
            
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            
            const levelNames = {
                1: "–£—Ä–æ–≤–µ–Ω—å 1",
                2: "–£—Ä–æ–≤–µ–Ω—å 2", 
                3: "–£—Ä–æ–≤–µ–Ω—å 3",
                'tasks': "–ó–∞–¥–∞–Ω–∏—è"
            };
            
            document.getElementById('levelLabel').textContent = levelNames[level];
            
            showCard();
        }

        function showCard() {
            const content = document.getElementById('cardContent');
            const current = currentQuestions[currentCardIndex];
            
            if (currentLevel === 'tasks') {
                const task = current;
                content.innerHTML = `
                    <div class="task">
                        <div class="task-icon">${task.icon}</div>
                        <div>${task.content}</div>
                        ${task.time ? `<div style="margin-top: 10px; font-size: 0.85em; opacity: 0.9;">‚è±Ô∏è ${task.time}</div>` : ''}
                    </div>
                `;
            } else {
                content.innerHTML = `<div class="question">${current}</div>`;
            }
            
            document.getElementById('cardNumber').textContent = `${currentCardIndex + 1}/${currentQuestions.length}`;
            
            const progress = ((currentCardIndex + 1) / currentQuestions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            document.getElementById('prevBtn').disabled = currentCardIndex === 0;
        }

        function nextCard() {
            if (currentCardIndex < currentQuestions.length - 1) {
                currentCardIndex++;
                showCard();
            } else {
                if (confirm('–í—ã –ø—Ä–æ—à–ª–∏ –≤—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏! –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é?')) {
                    backToMenu();
                }
            }
        }

        function previousCard() {
            if (currentCardIndex > 0) {
                currentCardIndex--;
                showCard();
            }
        }

        function backToMenu() {
            document.getElementById('startScreen').classList.remove('hidden');
            document.getElementById('gameScreen').classList.add('hidden');
        }

        // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
        document.addEventListener('gesturestart', function(e) {
            e.preventDefault();
        });

        document.addEventListener('dblclick', function(e) {
            e.preventDefault();
        });

        // –£–ª—É—á—à–∞–µ–º —Ä–∞–±–æ—Ç—É —Å touch —Å–æ–±—ã—Ç–∏—è–º–∏
        document.addEventListener('touchstart', function() {}, { passive: true });

        // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –ª—É—á—à–µ–π —Ä–∞–±–æ—Ç—ã –∫–Ω–æ–ø–æ–∫ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
        document.querySelectorAll('button').forEach(button => {
            button.addEventListener('touchstart', function() {
                this.style.transform = 'scale(0.98)';
            }, { passive: true });

            button.addEventListener('touchend', function() {
                this.style.transform = '';
            }, { passive: true });
        });
    </script>
</body>
</html>
